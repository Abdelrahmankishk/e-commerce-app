<section class="bg-gray-200 p-15">
  <div class="w-11/12 mx-auto grid sm:grid-cols-12 items-start gap-8">
    <div class="col-span-8 bg-white shadow-2xl p-5 rounded-3xl">
      <h1 class="text-5xl pb-5">Cart</h1>
      @for (item of CartDetails.products; track item.product._id) {
      <div
        class="grid sm: grid-cols-12 gap-5 items-center mt-5 pb-5 border-b-4 border-blue-600"
      >
        <div class="col-span-2">
          <img
            class="w-full rounded-xl"
            [src]="item.product.imageCover"
            [alt]="item.product.title"
          />
        </div>
        <div class="col-span-10 flex items-center justify-between">
          <div>
            <h3 class="text-lg text-blue-950 pb-3">
              {{ item.product.title }}
            </h3>
            <div class="flex items-center gap-7">
              <div class="relative flex items-center max-w-[8rem]">
                <button
                  (click)="UpdateQuantity(item.product._id, item.count - 1)"
                  type="button"
                  id="decrement-button"
                  data-input-counter-decrement="quantity-input"
                  class="bg-gray-50 transition-all cursor-pointer hover:bg-blue-600 border border-gray-300 rounded-s-lg p-3 h-11 focus:ring-gray-100 focus:ring-2 focus:outline-none"
                >
                  <svg
                    class="w-3 h-3 text-gray-900"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 18 2"
                  >
                    <path
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M1 1h16"
                    />
                  </svg>
                </button>
                <div
                  type="text"
                  id="quantity-input"
                  data-input-counter
                  aria-describedby="helper-text-explanation"
                  class="bg-gray-50 border-x-0 transition-all border-gray-300 h-11 text-center text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full py-2.5 -gray-400 blue-500 r-blue-500"
                  required
                >
                  {{ item.count }}
                </div>
                <button
                  (click)="UpdateQuantity(item.product._id, item.count + 1)"
                  type="button"
                  id="increment-button"
                  data-input-counter-increment="quantity-input"
                  class="bg-gray-50 transition-all cursor-pointer hover:bg-blue-600 border border-gray-300 rounded-e-lg p-3 h-11 focus:ring-gray-100 gray-700 focus:ring-2 focus:outline-none"
                >
                  <svg
                    class="w-3 h-3 text-gray-900"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 18 18"
                  >
                    <path
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 1v16M1 9h16"
                    />
                  </svg>
                </button>
              </div>
              <div
                (click)="DeleteCetainItem(item.product._id)"
                class="text-blue-600 hover:text-blue-950 transition-all cursor-pointer"
              >
                <i class="fa-solid fa-trash-can"></i>
              </div>
            </div>
          </div>
          <h4 class="text-2xl text-blue-950">
            {{ item.price * item.count }} EGP
          </h4>
        </div>
      </div>
      }
    </div>
    <div class="col-span-4 bg-white shadow-2xl p-5 rounded-3xl">
      <h2 class="text-3xl text-blue-950 pb-5">Total:</h2>
      <div class="flex items-center justify-between pb-5">
        <h3 class="text-blue-700 text-lg">
          Number of items:
          <span class="text-blue-950">{{ CartDetails.products.length }}</span>
        </h3>
        <h4 class="text-3xl text-blue-950">
          {{ CartDetails.totalCartPrice }} EGP
        </h4>
      </div>
      <button
        [routerLink]="['/checkout', CartDetails._id]"
        class="btn-main w-full uppercase"
      >
        proceed to buy
      </button>
    </div>
  </div>
</section>
